<!DOCTYPE html><html><head><title>Scala Effekt</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Jonathan Brachthäuser (@b-studios)" /><meta name="description" content="Extensible algebraic effects with handlers" /><meta name="og:image" content="/scala-effekt/img/poster.png" /><meta name="image" property="og:image" content="/scala-effekt/img/poster.png" /><meta name="og:title" content="Scala Effekt" /><meta name="title" property="og:title" content="Scala Effekt" /><meta name="og:site_name" content="Scala Effekt" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="Extensible algebraic effects with handlers" /><link rel="icon" type="image/png" href="/scala-effekt/img/favicon.png" /><meta name="twitter:title" content="Scala Effekt" /><meta name="twitter:image" content="/scala-effekt/img/poster.png" /><meta name="twitter:description" content="Extensible algebraic effects with handlers" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/scala-effekt/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/scala-effekt/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/scala-effekt/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/scala-effekt/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/scala-effekt/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/scala-effekt/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/scala-effekt/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/scala-effekt/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/scala-effekt/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/scala-effekt/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/scala-effekt/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/scala-effekt/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/scala-effekt/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/scala-effekt/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/scala-effekt/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/scala-effekt/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/scala-effekt/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/scala-effekt/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/scala-effekt/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/scala-effekt/img/favicon310x150.png" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/scala-effekt/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/scala-effekt/css/light-style.css" /><link rel="stylesheet" href="/scala-effekt/css/boilerplate.css" /></head><body class="home"><nav id="navigation" aria-labelledby="main-navigation"><div class="navbar-wrapper container"><div class="navigation-brand"><a href="/scala-effekt/" class="brand background-mask"><div class="icon-wrapper"></div><span class="brand-title">Scala Effekt</span></a></div><div class="navigation-menu"><ul><li><a href="https://github.com/b-studios/scala-effekt" target="_blank" rel="noopener noreferrer"><i class="nav-item-icon fa fa-lg fa-github" hidden="true"></i><span class="nav-item-text">GitHub</span></a></li><li><a href="/scala-effekt/guides.html"><i class="nav-item-icon fa fa-lg fa-file-text" hidden="true"></i><span class="nav-item-text">Documentation</span></a></li></ul></div></div></nav><header id="masthead"><div class="container text-center"><h1 class="masthead-description">Extensible algebraic effects with handlers</h1><a href="https://github.com/b-studios/scala-effekt" target="_blank" rel="noopener noreferrer" class="masthead-button">View on GitHub</a></div></header><main id="site-main"><section class="main-content"><div class="container"><div id="content"><h1 id="extensible-effectful-dsls">Extensible, effectful DSLs</h1>
<p>Create extensible, effectful domain specific
languages while separating the effect definition from the effect
implementation.
<strong>Effekt</strong> is an implementation of <em>algebraic effects
with handlers</em> and allows you to structure your effectful programs in a
purely functional way. It thus represents an alternative to
monad transformer based program structuring techniques or free monads.</p>

<section class="home-box">
  <div class="container">
    <div class="row">
      <div class="col-md-5">
        <h3 id="an-example">An example</h3>
        <p>The <code class="language-plaintext highlighter-rouge">Twitter</code>-API example shows how to define an effect signature with
one effectful operation <code class="language-plaintext highlighter-rouge">userTweets</code>. The effect itself can be
implemented in many ways by simply implementing the abstract methods
in the <code class="language-plaintext highlighter-rouge">Twitter</code> trait. It could actually contact the Twitter API
(potentially using other effects, like HTTP in the implementation) or
it could just return dummy tweets for testing purposes. We chose the
latter for the implementation of <code class="language-plaintext highlighter-rouge">twitterStub</code> and thus running the
result actually perform the side-effects always gives the same results.</p>

        <p>You can find the full sources for this example in <a href="https://scastie.scala-lang.org/JplohyA1RWeE7ykU08BqwQ">this Dotty Scastie</a>.</p>
      </div>
      <div class="col-md-7">
        <p><strong>Effect signature</strong></p>
        <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">trait</span> <span class="nc">Twitter</span> <span class="o">{</span>
  <span class="k">def</span> <span class="nf">userTweets</span><span class="o">(</span><span class="n">userId</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span><span class="k">:</span> <span class="kt">Control</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Tweet</span><span class="o">]]</span>
<span class="o">}</span>
</code></pre></div>        </div>
        <p><strong>Effect usage</strong></p>
        <div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">query</span><span class="o">(</span><span class="n">T</span><span class="k">:</span> <span class="kt">Twitter</span><span class="o">)</span><span class="k">:</span> <span class="kt">Control</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Tweet</span><span class="o">]]</span> <span class="k">=</span>
  <span class="k">for</span> <span class="o">{</span>
    <span class="n">ts1</span> <span class="k">&lt;-</span> <span class="nv">T</span><span class="o">.</span><span class="py">userTweets</span><span class="o">(</span><span class="mi">133452</span><span class="o">)</span>
    <span class="n">ts2</span> <span class="k">&lt;-</span> <span class="nv">T</span><span class="o">.</span><span class="py">userTweets</span><span class="o">(</span><span class="mi">111345</span><span class="o">)</span>
  <span class="o">}</span> <span class="k">yield</span> <span class="n">ts1</span> <span class="o">++</span> <span class="n">ts2</span>

<span class="k">val</span> <span class="nv">result</span> <span class="k">=</span> <span class="n">twitterStub</span> <span class="o">{</span> <span class="n">query</span> <span class="o">}</span>
</code></pre></div>        </div>
      </div>
    </div>
  </div>
</section>

<h2 id="getting-started">Getting Started</h2>
<p>To use <strong>Effekt</strong> (tested with Scala 2.12 and Scala 2.13), include the
following line to your <code class="language-plaintext highlighter-rouge">build.sbt</code> file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>resolvers += Opts.resolver.sonatypeSnapshots

libraryDependencies += "de.b-studios" %% "effekt" % "0.4-SNAPSHOT"
</code></pre></div></div>

<p>To learn how to use the library, see <a href="./guides/getting-started.html">Your First Effect</a>.</p>
</div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><p>Scala Effekt is designed and developed by <a href="http://b-studios.de" target="_blank" rel="noopener noreferrer">Jonathan Brachthäuser (@b-studios)</a></p></div><div class="row"><div><p>Website built with <a href="https://47degrees.github.io/sbt-microsites/" target="_blank" rel="noopener noreferrer">sbt-microsites</a> - © 2019 <a href="https://www.47deg.com/" target="_blank" rel="noopener noreferrer">47 Degrees</a></p></div></div></div></footer><script src="/scala-effekt/highlight/highlight.pack.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash']});
hljs.initHighlightingOnLoad();
      </script><script src="/scala-effekt/js/boilerplate.js"></script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script>((window.gitter = {}).chat = {}).options = {
room: 'b-studios/scala-effekt'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script><script src="/scala-effekt/js/version-selector.js"></script></body></html>